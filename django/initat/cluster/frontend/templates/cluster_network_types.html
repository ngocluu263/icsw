{% extends "main.html" %}

{% load i18n coffeescript %}

{% block title %}Cluster network (device) types{% endblock %}

{% block content %}

{% verbatim %}

<div ng-app="icsw.network">

<script type="text/ng-template" id="network_device_type.html">
    <div class="form-horizontal">
        <form ng-submit="modify()" name="form">
            <div class="form-group ng-class: form_error('identifier')">
                <label for="identifier" class="control-label col-sm-4">Identifier</label>
                <div class="col-sm-8">
                    <input id="identifier" class="form-control" name="identifier" ng-model="edit_obj.identifier" type="text" size="5" placeholder="identifier" required/>
                </div>
            </div>
            <div class="form-group ng-class: form_error('description')">
                <label for="description" class="control-label col-sm-4">Description</label>
                <div class="col-sm-8">
                    <input id="description" class="form-control" type="text" name="description" ng-model="edit_obj.description" size="30" placeholder="description" required/>
                </div>
            </div>
            <div class="form-group">
                <label for="mac_bytes" class="control-label col-sm-4">MAC Bytes</label>
                <div class="col-sm-8">
                    <input id="mac_bytes" class="form-control" type="number" ng-model="edit_obj.mac_bytes" placeholder="mac_bytes" min="6" max="20"/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8">
                    <button type="submit" class="btn btn-primary">{{ create_mode && 'Create' || 'Modify' }}</button>
                </div>
            </div>
        </form>
    </div>
</script>

<script type="text/ng-template" id="network_type.html">
    <div class="form-horizontal">
        <form ng-submit="modify()" name="form">
            <div class="form-group">
                <label for="identifier" class="control-label col-sm-4">Identifier</label>
                <div class="col-sm-8">
                    <select id="identifier" class="form-control" ng-model="edit_obj.identifier" ng-options="key as value for (key, value) in network_types" />
                </div>
            </div>
            <div class="form-group ng-class: form_error('description')">
                <label for="description" class="control-label col-sm-4">Description</label>
                <div class="col-sm-8">
                    <input id="description" class="form-control" type="text" name="description" ng-model="edit_obj.description" size="30" placeholder="description" required/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8">
                    <button type="submit" class="btn btn-primary">{{ create_mode && 'Create' || 'Modify' }}</button>
                </div>
            </div>
        </form>
    </div>
</script>

<tabset>
    <tab heading="Network device types">
<div ng-controller="network_device_type">

<h3>Network device types ({{entries.length}} entries), <input type="button" value="create new" ng-click="create($event)"/></h3>

<table class="table table-condensed table-condensed table-hover" style="width:auto;">
    <thead>
        <tr>
            <th>Id</th>   
            <th>Description</th>   
            <th>MAC</th>   
            <th colspan="2" class="text-center">action</th>   
        </tr>
    </thead>
    <tbody>
    <tr ng-repeat="obj in entries | orderBy:'-identifier':true">
        <td>{{ obj.identifier }}</td>
        <td>{{ obj.description  }}</td>
        <td>{{ obj.mac_bytes }}</td>
        <td><input type="button" class="btn btn-primary" ng-click="edit($event, obj)" value="modify"/></td>
        <td><input type="button" class="btn btn-danger" ng-click="delete(obj)" value="delete"/></td>
    </tr>
    </tbody>
</table>

</div>
</tab>
<tab heading="Network types">

<div ng-controller="network_type">

<h3>Network types ({{entries.length}} entries), <input type="button" value="create new" ng-click="create($event)"/></h3>

<table class="table table-condensed table-condensed table-hover" style="width:auto;">
    <thead>
        <tr>
            <th>Type</th>   
            <th>Description</th>   
            <th colspan="2" class="text-center">action</th>   
        </tr>
    </thead>
    <tbody>
    <tr ng-repeat="obj in entries | orderBy:'-identifier':true">
        <td>{{ network_types[obj.identifier] }}</td>
        <td>{{ obj.description  }}</td>
        <td><input type="button" class="btn btn-primary" ng-click="edit($event, obj)" value="modify"/></td>
        <td><input type="button" class="btn btn-danger" ng-click="delete(obj)" value="delete"/></td>
    </tr>
    </tbody>
</table>

</div>
</tab>
</tabset>

</div>

{% endverbatim %}

{% endblock %}
