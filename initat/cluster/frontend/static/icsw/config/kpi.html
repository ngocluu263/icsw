
<script type="text/ng-template" id="icsw.config.kpi">

    <h2>Key performance indicators</h2>

    <tabset>
        <tab heading="Show KPIs">

            <div class="alert alert-info" role="alert" style="margin-top: 2em; margin-left: 2em">
                No KPIs defined. <a class="alert-link" ng-click="configure_kpi_active = true">Click here to configure KPIs.</a>
            </div>

        </tab>
        <tab heading="Configure KPIs" active="configure_kpi_active || true"> <!-- TODO: remove true here -->

            <icsw-config-kpi-configure></icsw-config-kpi-configure>

        </tab>
    </tabset>

</script>

<script type="text/ng-template" id="icsw.config.kpi.configure">
    <div class="well well-sm">TODO: show current kpis with modify btn (possibly also show modify button in 'Show KPIs'</div>

    <div class="well well-sm">TODO: create new & set in ctrl</div>

    <icsw-config-kpi-dev-mon-selection></icsw-config-kpi-dev-mon-selection>

    <icsw-config-kpi-dev-mon-linker></icsw-config-kpi-dev-mon-linker>


    <!-- TODO -->
    <icsw-config-kpi-dev-mon-formula></icsw-config-kpi-dev-mon-formula>

    <!--
    <div class="btn-group btn-xs">
        <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-spinner-size="12" data-toggle="dropdown">
            All <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
            <li ng-click=""><a href="#">All</a></li>
            <li ng-click=""><a href="#">Any</a></li>
        </ul>
    </div>
    -->


</script>

<script type="text/ng-template" id="icsw.config.kpi.dev_mon_linker">
    <div class="alert alert-warning" ng-show="get_device_categories().length == 0 && get_monitoring_categories().length == 0">
        Please select device and monitoring categories.
    </div>
    <div class="alert alert-warning" ng-show="get_device_categories().length == 0 && get_monitoring_categories().length >  0">
        Please select device categories.
    </div>
    <div class="alert alert-warning" ng-show="get_device_categories().length >  0 && get_monitoring_categories().length == 0">
        Please select monitoring categories.
    </div>
    <!--
    <div class="alert alert-info alert-dismissible" role="alert" ng-show="get_device_categories().length >  0 && get_monitoring_categories().length >  0">
        Please make appropriate marks to select which checks from monitoring categories should apply to which device categories.
    </div>
    -->
    <h4>Select which monitoring categories apply to which device categories</h4>

    <table class="table table-condensed table-hover" style="width: auto;">
        <tr>
            <td></td>
            <th ng-repeat="mon_cat in get_monitoring_categories()">
                {{mon_cat.name}}
            </th>
        </tr>
        <tr ng-repeat="dev_cat in get_device_categories()">
            <th>{{dev_cat.name}}</th>
            <td ng-repeat="mon_cat in get_monitoring_categories()"
                icsw-tools-td-checkbox is-checked="is_checked(dev_cat.idx, mon_cat.idx)" on-click="check_dev_mon_cat(dev_cat.idx, mon_cat.idx)">
            </td>
        </tr>
    </table>
</script>
